import java.util.ArrayList;
import java.util.List;

public class BfsGraphTraversal {

	public List<List<Integer>> traverse(Graph g) {
		int count = 0;
		List<List<Integer>> theList = new ArrayList<List<Integer>>();

		while(count < g.vcount()) {
			List<Integer> list = new ArrayList<Integer>();
			List<Integer> tree = new ArrayList<Integer>();
			int vertex = 0;
			int next = 0;
			while(g.getMark(vertex) != 0) {
				vertex++;
			}

			g.setMark(vertex, 1);
			list.add(vertex);
			count++;

			while(!list.isEmpty()) {
				tree.add(list.get(0));
				list.remove(0);
				next = g.first(vertex);
				while(next != g.vcount()) {
					g.setMark(next, 1);
					list.add(next);
					count++;
					next = g.next(vertex, next);
				}
			}
			
			theList.add(tree);
		}

		return theList;
	}
}
